# راهنمای سیستم احراز هویت و سطوح دسترسی

## 🔐 ورود به سیستم

### کاربران آزمایشی:

#### 1. کاربر عادی:
- **ایمیل**: user@example.com
- **شماره**: 09123456789
- **رمز عبور**: 123456
- **دسترسی**: فقط بخش کاربران در داشبورد

#### 2. مدیر سیستم:
- **ایمیل**: admin@example.com
- **شماره**: 09123456788
- **رمز عبور**: 123456
- **دسترسی**: هر دو بخش کاربران و مدیریت در داشبورد

## 📝 ثبت نام کاربر جدید

1. در صفحه ورود، ایمیل یا شماره موبایل جدیدی وارد کنید
2. سیستم تشخیص می‌دهد که کاربر جدید هستید
3. فرم ثبت نام نمایش داده می‌شود
4. اطلاعات زیر را وارد کنید:
   - نام و نام خانوادگی
   - رمز عبور
   - تکرار رمز عبور

## 🏠 داشبورد

### بخش کاربران (همه کاربران):
- آمار پروفایل کاربر
- آخرین ورود
- پیام‌ها
- فعالیت‌ها

### بخش مدیریت (فقط ادمین):
- تعداد کل کاربران
- کاربران آنلاین
- درخواست‌های جدید
- گزارشات سیستم

## 🛡️ سطوح دسترسی

### کاربر عادی:
- مشاهده پروفایل خود
- ویرایش اطلاعات شخصی
- مشاهده بخش کاربران داشبورد

### مدیر سیستم:
- تمام دسترسی‌های کاربر عادی
- مشاهده بخش مدیریت داشبورد
- مدیریت کاربران
- مشاهده گزارشات سیستم
- دسترسی به تنظیمات پیشرفته

## 🚀 نصب و راه‌اندازی

```bash
# نصب وابستگی‌ها
npm install

# اجرای سرور توسعه
npm run dev

# سرور در آدرس زیر اجرا می‌شود:
http://localhost:3000
```

## 📌 نکات مهم

1. **امنیت**: در محیط production حتماً JWT_SECRET را در فایل .env تنظیم کنید
2. **دیتابیس**: در حال حاضر از mock data استفاده می‌شود، در محیط واقعی به دیتابیس متصل شوید
3. **رمزنگاری**: رمزهای عبور با bcrypt رمزنگاری می‌شوند
4. **توکن**: از JWT برای احراز هویت استفاده می‌شود با اعتبار 7 روزه

## 🔄 مسیرهای API

- `POST /api/auth/register` - ثبت نام کاربر جدید
- `POST /api/auth/login` - ورود کاربر
- `GET /api/auth/user` - دریافت اطلاعات کاربر فعلی
- `POST /api/auth/logout` - خروج از سیستم

## 🎨 ویژگی‌های پیاده‌سازی شده

✅ سیستم ورود و ثبت نام
✅ احراز هویت با JWT
✅ Middleware برای محافظت از صفحات
✅ دو بخش مجزا در داشبورد
✅ سطوح دسترسی (کاربر عادی و ادمین)
✅ رمزنگاری رمز عبور
✅ ذخیره توکن در localStorage
✅ خروج خودکار در صورت انقضای توکن