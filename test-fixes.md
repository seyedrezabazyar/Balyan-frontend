# تست رفع مشکلات سیستم احراز هویت

## مشکلات رفع شده:

### 1. عدم نمایش فیلد پسورد برای کاربران بدون پسورد ✅

**تغییرات انجام شده:**
- اضافه کردن تابع `checkUserIdentifier` در `useAuth.ts` که وضعیت پسورد کاربر را بررسی می‌کند
- تغییر منطق در `auth.vue` برای بررسی وجود پسورد قبل از نمایش فیلد پسورد
- اگر کاربر پسورد نداشته باشد، مستقیماً به مرحله OTP می‌رود

**فایل‌های تغییر یافته:**
- `/app/pages/auth.vue`
- `/app/composables/useAuth.ts`

### 2. اضافه کردن دکمه خروج در داشبورد ✅

**تغییرات انجام شده:**
- اضافه کردن دکمه خروج در بخش خوش‌آمدگویی داشبورد
- دکمه با رنگ قرمز و آیکون مناسب
- responsive برای موبایل

**فایل‌های تغییر یافته:**
- `/app/pages/dashboard.vue`

## نکات مهم:

### برای تست کامل سیستم:

1. **API Backend مورد نیاز:**
   - سیستم نیاز به endpoint `/api/auth/check-identifier` دارد
   - این endpoint باید اطلاعات زیر را برگرداند:
   ```json
   {
     "success": true,
     "data": {
       "has_password": true/false,
       "exists": true/false
     }
   }
   ```

2. **مراحل تست:**
   - کاربر ایمیل یا شماره موبایل خود را وارد می‌کند
   - سیستم بررسی می‌کند که آیا کاربر پسورد دارد یا خیر
   - اگر پسورد داشته باشد، فیلد پسورد نمایش داده می‌شود
   - اگر پسورد نداشته باشد، مستقیماً OTP ارسال می‌شود

3. **دکمه خروج:**
   - در صفحه داشبورد، در کنار پیام خوش‌آمدگویی قرار دارد
   - در موبایل، زیر پیام خوش‌آمدگویی و به صورت full-width نمایش داده می‌شود

## توجه:
برای عملکرد کامل، Backend API باید endpoint مربوطه را پیاده‌سازی کند. در غیر این صورت، سیستم به صورت پیش‌فرض فرض می‌کند که کاربر جدید است و OTP ارسال می‌کند.